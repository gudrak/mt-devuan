compiler:
  name: gcc
  version: 11

dependencies:
  install:
    debian: 
      - g++
      - make
      - libc6-dev
      - libbz2-dev
      - libpng-dev
      - libjpeg-dev
      - libxxf86vm-dev
      - libgl1-mesa-dev
      - libsqlite3-dev
      - libogg-dev
      - libvorbis-dev
      - libopenal-dev
      - libcurl4-gnutls-dev
      - libfreetype6-dev
      - zlib1g-dev
      - libgmp-dev
      - libjsoncpp-dev
      - git

build_script:
  - git clone -b 1.9.0mt13 --single-branch https://github.com/minetest/irrlichtmt
  - cd irrlichtmt/source/Irrlicht
  - make
  - sudo make install
  - cd ../../..
  - git clone --branch 5.8.0 https://github.com/minetest/minetest
  - cd minetest
  - cmake . -DRUN_IN_PLACE=TRUE -B build
  - cd build
  - make -j$(nproc)
